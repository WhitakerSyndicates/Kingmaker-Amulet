<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Kingmaker Amulet</title>
  <link rel="stylesheet" href="Styles.css" />
  <!-- Load the UMD version of ethers.js -->
  <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
</head>
<body>
  <!-- Popup overlay for onboarding instructions -->
  <div id="popupOverlay">
    <div class="popup-content">
      <h2>Welcome to the Kingmaker Amulet</h2>
      <p>To fully use this site, please complete the following steps:</p>
      <ol>
        <li>Install an Ethereum wallet like <a href="https://metamask.io/" target="_blank" rel="noopener noreferrer">MetaMask</a>.</li>
        <li>Create an account and securely save your private keys.</li>
        <li>Switch your wallet to Base Mainnet.</li>
        <li>Connect your wallet by clicking the "Claim the Amulet" button.</li>
      </ol>
      <p>Follow the on-screen prompts to complete each quest. Enjoy your journey in becoming the King of Cryptocurrency!</p>
      <button id="closePopup">Got It!</button>
    </div>
  </div>
  
  <header>
    <!-- Site Title -->
    <h1 id="siteTitle">The Kingmaker Amulet</h1>
    <!-- Current Amulet Price in its own box -->
    <div id="priceBox">
      <p id="currentPrice">Current Price: Loading...</p>
    </div>
    <!-- Claim Button, positioned just below the price box -->
    <button id="claimButton">Claim the Amulet ..... If You Dare</button>
  </header>

  <main>
    <!-- Horizontal container for king info boxes -->
    <div id="kingsContainer">
      <!-- Current King Section -->
      <section id="currentKingSection" class="king-box">
        <h2>Current King</h2>
        <p id="currentKing">Loading...</p>
      </section>

      <!-- King of Time Section -->
      <section id="kingOfTimeSection" class="king-box">
        <h2>King of Time</h2>
        <p id="kingOfTime">Loading...</p>
        <p>Total held time: <span id="totalHeld">Loading...</span></p>
      </section>

      <!-- King of Usurpers Section -->
      <section id="kingOfUsurpersSection" class="king-box">
        <h2>King of Usurpers</h2>
        <p id="kingOfUsurpers">Loading...</p>
        <p>Number of claims: <span id="claimCount">Loading...</span></p>
      </section>
    </div>

    <!-- New Contract Information Section -->
    <section id="contractInfo">
      <p><strong>Contract ID:</strong> 0x2159c1D73619595D0BDA4408296E87D0C377D683</p>
      <div class="external-links">
        <a href="https://basescan.org/address/0x2159c1D73619595D0BDA4408296E87D0C377D683" target="_blank" rel="noopener noreferrer">View Contract on BaseScan</a>
        |
        <a href="https://opensea.io/collection/the-kingmaker-amulet-3" target="_blank" rel="noopener noreferrer">View Collection on OpenSea</a>
      </div>
    </section>

    <!-- Narrative Section -->
    <section id="narrativeSection">
      <h2>The Curse of the Kingmaker Amulet</h2>
      <p>
        The Kingmaker Amulet was forged by the Maker—a mysterious architect of fate—to challenge the fortitude and ambition of the most accomplished cryptocurrency investors. For only one may be crowned King of Cryptocurrency at any given time, a title bestowed solely upon the possessor of the Amulet. Yet, the Amulet is cursed: its master can never willingly sell it. Only a bold Usurper—one deemed more worthy than the current ruler—can seize it away.
      </p>
      <p>
        The Amulet is both greedy and merciless. To claim it, an aspirant must pay a price that is 10% above the previous King’s acquisition cost. When a new claimant triumphs, the former ruler is honored with 101% of their initial payment—a modest bonus preserving their legacy. But be ye warned! A dire prophecy looms: if 365 days pass without a new, worthy challenger, the Amulet will revert to its original price, stripping the reigning King of all accrued value and making him a King in Exile.
      </p>
      <p>
        The remaining 9% of the transaction is transformed into a sacred tribute from the Amulet, which is divided among a revered council. This council is composed of three permanent custodians: the Maker, the King of Time (the sovereign who has held the Amulet the longest), and the King of Usurpers—a title reserved for the challenger who has most frequently demonstrated their worth by usurping the throne. In addition, up to four Kings in Exile may join the council, expanding it into an assembly of seven, each sharing in the tribute.
      </p>
      <p>
        Moreover, when a fifth King in Exile emerges, the earliest among them shall be reborn as a King Eternal. Of the 9% tribute, the Amulet will award the Kings Eternal 2% divided among them forever, gradually diluting in value as more ascend to eternal sovereignty.
      </p>
      <p>
        Thus, the Kingmaker Amulet endures—a cursed relic that both elevates and condemns, inviting those who dare to prove their worth and seize its formidable power, all while their legacy is forever reshaped by destiny.
      </p>
    </section>

    <!-- Legal Information Section -->
    <section id="legalSection">
      <h2>Legal Information</h2>
      <br>
      <h3>Disclaimer</h3>
      <p>
        The information provided on this website is for informational purposes only and does not constitute financial, investment, or legal advice. Interacting with blockchain technologies, including NFTs, carries inherent risks. You should conduct your own research (DYOR) and consult with a qualified professional before engaging in any transactions. The website owner is not responsible for any losses incurred.
      </p>
      <h3>Privacy Policy</h3>
      <p>
        We do not collect any personal data from visitors to this site. Any analytics data is anonymized and used solely for improving the website.
      </p>
      <h3>Terms and Conditions</h3>
      <p>
        By accessing and using this website, you agree to be bound by these Terms and Conditions. If you do not agree with any part of these terms, please do not use this website. We reserve the right to update these terms at any time without prior notice. You are responsible for reviewing these terms periodically. The website is provided on an "as is" basis, without warranties of any kind, either express or implied. In no event shall the website owner be liable for any damages arising from the use of this website, including, without limitation, indirect, incidental, special, or consequential damages. Your use of this website is at your own risk.
      </p>
      <h3>Risk Warning</h3>
      <p>
        Blockchain transactions are irreversible and involve inherent risks. You should only interact with this system if you fully understand and accept these risks. All transactions are conducted at your own risk.
      </p>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 Kingmaker Amulet. All rights reserved.</p>
  </footer>

  <script src="app.js"></script>
  <script>
    // Simple script to close the popup when the "Got It!" button is clicked
    document.getElementById('closePopup').addEventListener('click', function() {
      document.getElementById('popupOverlay').style.display = 'none';
    });
  </script>
</body>
</html>
